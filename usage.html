

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  

  <title>Using SynthPops &mdash; SynthPops  documentation</title>
  
<meta name="robots" content="none">
<meta http-equiv="refresh" content="0; URL=https://docs.idmod.org/projects/synthpops/en/latest/usage.html">


  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />

  
  
    <link rel="shortcut icon" href="_static/favicon.ico"/>
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="search" type="application/opensearchdescription+xml"
          title="Search within SynthPops  documentation"
          href="_static/opensearch.xml"/>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Household contact layer" href="households.html" />
    <link rel="prev" title="SynthPops algorithm" href="algorithm.html" />

<link href="https://fonts.googleapis.com/css?family=Lato|Montserrat|Open+Sans" rel="stylesheet">


</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> SynthPops
          

          
            
            <img src="_static/IDM_white.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="overview.html">SynthPops overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="algorithm.html">SynthPops algorithm</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Using SynthPops</a><ul>
<li class="toctree-l2"><a class="reference internal" href="households.html">Household contact layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="schools.html">School contact layer</a></li>
<li class="toctree-l2"><a class="reference internal" href="workplaces.html">Workplace contact layer</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="modules.html">synthpops package</a></li>
<li class="toctree-l1"><a class="reference internal" href="glossary.html">Glossary</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SynthPops</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          





<div aria-label="breadcrumbs navigation" role="navigation">
    <ul class="wy-breadcrumbs">
        <li><a href="https://idmod.org/documentation">IDM docs</a> &raquo;</li>
        <li><a href="index.html">SynthPops</a> &raquo;</li>
        
        <li>Using SynthPops</li>
        <li class="wy-breadcrumbs-aside">
            
            
            
        </li>
    </ul>
    <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="using-sp">
<h1>Using SynthPops<a class="headerlink" href="#using-sp" title="Permalink to this headline">¶</a></h1>
<p>The overall SynthPops workflow is contained in
<a class="reference internal" href="modules.html#synthpops.contact_networks.generate_synthetic_population" title="synthpops.contact_networks.generate_synthetic_population"><code class="xref py py-func docutils literal notranslate"><span class="pre">generate_synthetic_population()</span></code></a> and is described below.
The population is generated through households, not a pool of people.</p>
<p>You can provide required data to SynthPops in a variety of formats including .csv, .txt, or Microsoft Excel
(.xlsx).</p>
<ol class="arabic simple">
<li><p>Instantiate a collection of households with sizes drawn from census data. Populations
cannot be created outside of the <a class="reference internal" href="glossary.html#term-household-contact-layer"><span class="xref std std-term">household contact layer</span></a>.</p></li>
<li><p>For each household, sample the age of a “reference” person from data that maps household
size to a reference person in those households. The reference person may be referred to as the head
of the household, a parent in the household, or some other definition specific to the data being used.
If no data mapping household size to ages of reference individuals are available, then the age of the
reference person is sampled from the age distribution of adults for the location.</p></li>
<li><p>The age bin of the reference people identifies the row of the contact matrix for that location.
The remaining household members are then selected by sampling an age for the distribution of contacts
for the reference person’s age (in other words, normalizing the values of the row and sampling for a column)
and assigning someone with that age to the household.</p></li>
<li><p>As households are generated, individuals are given IDs.</p></li>
<li><p>After households are constructed, students are chosen according to enrollment data by age to
generate the <a class="reference internal" href="glossary.html#term-school-contact-layer"><span class="xref std std-term">school contact layer</span></a>.</p></li>
<li><p>Students are assigned to schools using a similar method as above, where we select the age of a
reference person and then select their contacts in school from an age-specific contact matrix for
the school setting and data on school sizes.</p></li>
<li><p>With all students assigned to schools, teachers are selected from the labor force according to
employment data.</p></li>
<li><p>The rest of the labor force are assigned to workplaces in the <a class="reference internal" href="glossary.html#term-workplace-contact-layer"><span class="xref std std-term">workplace contact layer</span></a> by
selecting a reference person and their contacts using an age-specific contact matrix and data on
workplace sizes.</p></li>
</ol>
<div class="section" id="examples">
<h2>Examples<a class="headerlink" href="#examples" title="Permalink to this headline">¶</a></h2>
<p>Examples live in the <em>examples</em> folder. These can be run as follows:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">examples/make_generic_contacts.py</span></code></p>
<p>Creates a dictionary of individuals, each of whom are represented by another dictionary with
their contacts contained in the <code class="docutils literal notranslate"><span class="pre">contacts</span></code> key. Contacts are selected at random with degree
distribution following the Erdos-Renyi graph model.</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">examples/generate_contact_network_with_microstructure.py</span></code></p>
<p>Creates and saves to file households, schools, and workplaces of individuals with unique IDs,
and a table mapping IDs to ages. Two versions of each contact layer (households, schools, or
workplaces) are saved; one with the unique IDs of each individual in each group (a single
household, school or workplace), and one with their ages (for easy viewing of the age mixing
patterns created).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">examples/load_contacts_and_show_some_layers.py</span></code></p>
<p>Loads a multilayer contact network made of three layers and shows the age and ages of
contacts for the first 20 people.</p>
</li>
</ul>
<p>In the <em>tests</em> folder, you can view the following to see examples of additional functionality.</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">test_synthpop.py</span></code></p>
<blockquote>
<div><p>Reads in demographic data and generates populations matching those demographics.</p>
</div></blockquote>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">test_contacts.py</span></code></p>
<p>Generates random contact networks with individuals matching demographic data or reads in
synthetic contact networks with three layers (households, schools, and workplaces).</p>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">test_contact_network_generation.py</span></code></p>
<p>Generates synthetic contact networks  in households, schools, and workplaces with Seattle
Metro data (and writes to file).</p>
</li>
</ul>
<p>The other topics in this section walk through the specific data sources and details about the settings
for each of the <a class="reference internal" href="glossary.html#term-contact-layers"><span class="xref std std-term">contact layers</span></a>.</p>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="households.html">Household contact layer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="households.html#data-needed">Data needed</a></li>
<li class="toctree-l2"><a class="reference internal" href="households.html#workflow">Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="schools.html">School contact layer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="schools.html#data-needed">Data needed</a></li>
<li class="toctree-l2"><a class="reference internal" href="schools.html#workflow">Workflow</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="workplaces.html">Workplace contact layer</a><ul>
<li class="toctree-l2"><a class="reference internal" href="workplaces.html#data-required">Data required</a></li>
<li class="toctree-l2"><a class="reference internal" href="workplaces.html#workflow">Workflow</a></li>
</ul>
</li>
</ul>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="households.html" class="btn btn-neutral float-right" title="Household contact layer" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="algorithm.html" class="btn btn-neutral float-left" title="SynthPops algorithm" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Bill &amp; Melinda Gates Foundation. All rights reserved.

    </p>
  </div>
<p>SynthPops is licensed under the <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/legalcode">Creative Commons
    Attribution-Noncommercial-ShareAlike 4.0 License</a>.</p>
<p>Send documentation feedback to <a href="mailto:feedback@idmod.org" target="_top">feedback@idmod.org</a>. If you have
    questions, email <a href="mailto:support@idmod.org" target="_top">support@idmod.org</a>.</p>
<p><a href="https://www.gatesfoundation.org/Privacy-and-Cookies-Notice">Privacy and Cookies Notice</a>&nbsp;&nbsp;&nbsp;|&nbsp;&nbsp;&nbsp;
<a href="https://www.gatesfoundation.org/Terms-of-Use">Terms of Use</a></p>


</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>